{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import FloatingImage from'../../components/FloatingImage/FloatingImage';import Modal from'../../components/Modal/Modal';import'./TypeThonTopic.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TypeThonTopic(){const{id}=useParams();const[topics,setTopics]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[modalData,setModalData]=useState({isOpen:false,src:'',alt:'',content:'',style:''});useEffect(()=>{// JSON 파일 경로를 동적으로 설정\nconst fileName=\"topic\".concat(id,\".json\");import(\"../../data/typeThon/\".concat(fileName)).then(module=>{const data=module.default;if(Array.isArray(data)){setTopics(data);}else{setError('Fetched data is not an array');}}).catch(error=>{setError(\"Error loading JSON data from \".concat(fileName,\": \").concat(error.message));console.error(error);}).finally(()=>{setLoading(false);});},[id]);const handleImageClick=(src,alt,content,style)=>{setModalData({isOpen:true,src,alt,content,style});};const closeModal=()=>{setModalData({isOpen:false,src:'',alt:'',content:'',style:''});};if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}if(error){return/*#__PURE__*/_jsx(\"div\",{children:error});}if(!topics.length){return/*#__PURE__*/_jsx(\"div\",{children:\"No topics found\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"type-thon-topic\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"content-container floating-container\",children:topics.map((topic,topicIndex)=>/*#__PURE__*/_jsx(\"div\",{children:topic.images.map((image,imageIndex)=>/*#__PURE__*/_jsx(FloatingImage,{src:image.src,alt:image.alt,onClick:()=>handleImageClick(image.src,image.alt,topic.description,image.style)},imageIndex))},topicIndex))}),/*#__PURE__*/_jsx(Modal,{src:modalData.src,alt:modalData.alt,content:modalData.content,isOpen:modalData.isOpen,onClose:closeModal,style:modalData.style}),/*#__PURE__*/_jsx(\"div\",{className:\"footer\",children:\"Footer\"})]});}export default TypeThonTopic;","map":{"version":3,"names":["React","useEffect","useState","useParams","FloatingImage","Modal","jsx","_jsx","jsxs","_jsxs","TypeThonTopic","id","topics","setTopics","loading","setLoading","error","setError","modalData","setModalData","isOpen","src","alt","content","style","fileName","concat","then","module","data","default","Array","isArray","catch","message","console","finally","handleImageClick","closeModal","children","length","className","map","topic","topicIndex","images","image","imageIndex","onClick","description","onClose"],"sources":["/Users/jero/Documents/GitHub/directdesignlab.github.io/src/pages/TypeThon/TypeThonTopic.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport FloatingImage from '../../components/FloatingImage/FloatingImage';\nimport Modal from '../../components/Modal/Modal';\nimport './TypeThonTopic.css';\n\nfunction TypeThonTopic() {\n  const { id } = useParams();\n  const [topics, setTopics] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [modalData, setModalData] = useState({ isOpen: false, src: '', alt: '', content: '', style: '' });\n\n  useEffect(() => {\n    // JSON 파일 경로를 동적으로 설정\n    const fileName = `topic${id}.json`;\n    import(`../../data/typeThon/${fileName}`)\n      .then((module) => {\n        const data = module.default;\n        if (Array.isArray(data)) {\n          setTopics(data);\n        } else {\n          setError('Fetched data is not an array');\n        }\n      })\n      .catch((error) => {\n        setError(`Error loading JSON data from ${fileName}: ${error.message}`);\n        console.error(error);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  }, [id]);\n\n  const handleImageClick = (src, alt, content, style) => {\n    setModalData({ isOpen: true, src, alt, content, style });\n  };\n\n  const closeModal = () => {\n    setModalData({ isOpen: false, src: '', alt: '', content: '', style: '' });\n  };\n\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n\n  if (error) {\n    return <div>{error}</div>;\n  }\n\n  if (!topics.length) {\n    return <div>No topics found</div>;\n  }\n\n  return (\n    <div className=\"type-thon-topic\">\n      <div className=\"content-container floating-container\">\n        {topics.map((topic, topicIndex) => (\n          <div key={topicIndex}>\n            {topic.images.map((image, imageIndex) => (\n              <FloatingImage\n                key={imageIndex}\n                src={image.src}\n                alt={image.alt}\n                onClick={() => handleImageClick(image.src, image.alt, topic.description, image.style)}\n              />\n            ))}\n          </div>\n        ))}\n      </div>\n      <Modal\n        src={modalData.src}\n        alt={modalData.alt}\n        content={modalData.content}\n        isOpen={modalData.isOpen}\n        onClose={closeModal}\n        style={modalData.style}\n      />\n      <div className=\"footer\">Footer</div>\n    </div>\n  );\n}\n\nexport default TypeThonTopic;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}