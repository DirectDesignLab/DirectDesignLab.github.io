{"ast":null,"code":"import React,{useEffect,useRef}from'react';import'./FloatingImage.css';import{jsx as _jsx}from\"react/jsx-runtime\";function FloatingImage(_ref){let{src,alt,onClick}=_ref;const imgRef=useRef(null);useEffect(()=>{const imgElement=imgRef.current;const container=document.querySelector('.floating-container');let containerWidth=container.clientWidth;let containerHeight=container.clientHeight;const speed=parseFloat(getComputedStyle(document.documentElement).getPropertyValue(\"--image-speed\"));// 초기 위치 설정\nconst setInitialPosition=()=>{let x=Math.random()*(containerWidth-imgElement.clientWidth);let y=Math.random()*(containerHeight-imgElement.clientHeight);imgElement.style.left=\"\".concat(x,\"px\");imgElement.style.top=\"\".concat(y,\"px\");return{x,y};};let{x,y}=setInitialPosition();let dx=speed*(Math.random()>0.5?1:-1);let dy=speed*(Math.random()>0.5?1:-1);// 애니메이션 함수\nconst animate=()=>{if(x<=0||x>=containerWidth-imgElement.clientWidth)dx=-dx;if(y<=0||y>=containerHeight-imgElement.clientHeight)dy=-dy;x+=dx;y+=dy;imgElement.style.left=\"\".concat(x,\"px\");imgElement.style.top=\"\".concat(y,\"px\");requestAnimationFrame(animate);};requestAnimationFrame(animate);// 화면 크기 변경 시 위치 조정\nconst handleResize=()=>{containerWidth=container.clientWidth;containerHeight=container.clientHeight;x=Math.min(x,containerWidth-imgElement.clientWidth);y=Math.min(y,containerHeight-imgElement.clientHeight);imgElement.style.left=\"\".concat(x,\"px\");imgElement.style.top=\"\".concat(y,\"px\");};window.addEventListener('resize',handleResize);return()=>window.removeEventListener('resize',handleResize);},[]);return/*#__PURE__*/_jsx(\"img\",{ref:imgRef,src:src,alt:alt,className:\"floating-image\",onClick:onClick});}export default FloatingImage;","map":{"version":3,"names":["React","useEffect","useRef","jsx","_jsx","FloatingImage","_ref","src","alt","onClick","imgRef","imgElement","current","container","document","querySelector","containerWidth","clientWidth","containerHeight","clientHeight","speed","parseFloat","getComputedStyle","documentElement","getPropertyValue","setInitialPosition","x","Math","random","y","style","left","concat","top","dx","dy","animate","requestAnimationFrame","handleResize","min","window","addEventListener","removeEventListener","ref","className"],"sources":["/Users/jero/Documents/GitHub/directdesignlab.github.io/src/components/FloatingImage/FloatingImage.jsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport './FloatingImage.css';\n\nfunction FloatingImage({ src, alt, onClick }) {\n  const imgRef = useRef(null);\n\n  useEffect(() => {\n    const imgElement = imgRef.current;\n    const container = document.querySelector('.floating-container');\n    let containerWidth = container.clientWidth;\n    let containerHeight = container.clientHeight;\n    const speed = parseFloat(getComputedStyle(document.documentElement).getPropertyValue(\"--image-speed\"));\n\n    // 초기 위치 설정\n    const setInitialPosition = () => {\n      let x = Math.random() * (containerWidth - imgElement.clientWidth);\n      let y = Math.random() * (containerHeight - imgElement.clientHeight);\n      imgElement.style.left = `${x}px`;\n      imgElement.style.top = `${y}px`;\n      return { x, y };\n    };\n\n    let { x, y } = setInitialPosition();\n    let dx = speed * (Math.random() > 0.5 ? 1 : -1);\n    let dy = speed * (Math.random() > 0.5 ? 1 : -1);\n\n    // 애니메이션 함수\n    const animate = () => {\n      if (x <= 0 || x >= containerWidth - imgElement.clientWidth) dx = -dx;\n      if (y <= 0 || y >= containerHeight - imgElement.clientHeight) dy = -dy;\n\n      x += dx;\n      y += dy;\n      imgElement.style.left = `${x}px`;\n      imgElement.style.top = `${y}px`;\n      requestAnimationFrame(animate);\n    };\n\n    requestAnimationFrame(animate);\n\n    // 화면 크기 변경 시 위치 조정\n    const handleResize = () => {\n      containerWidth = container.clientWidth;\n      containerHeight = container.clientHeight;\n\n      x = Math.min(x, containerWidth - imgElement.clientWidth);\n      y = Math.min(y, containerHeight - imgElement.clientHeight);\n      imgElement.style.left = `${x}px`;\n      imgElement.style.top = `${y}px`;\n    };\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  return <img ref={imgRef} src={src} alt={alt} className=\"floating-image\" onClick={onClick} />;\n}\n\nexport default FloatingImage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}